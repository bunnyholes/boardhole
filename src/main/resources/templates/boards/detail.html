<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title th:text="${board.title + ' - boardhole'}">board detail - boardhole</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <th:block th:replace="~{fragments/head :: head('board detail - boardhole')}"/>
</head>
<body class="bg-slate-50 text-slate-900">
<th:block th:replace="~{fragments/header :: header()}"></th:block>
<th:block th:replace="~{fragments/sidebar :: sidebar()}"></th:block>
<main>
                <section class="mx-auto max-w-6xl px-6 pt-10 pb-6">
                    <!-- 페이지 타이틀 -->
                    <div class="mb-8">
                        <h1 class="text-3xl font-semibold text-slate-900" th:text="${board.title}">타이틀</h1>
                        <p class="mt-2 text-base text-slate-500">게시글 상세 정보를 확인하세요.</p>
                    </div>
                </section>
                <section class="mx-auto max-w-6xl px-6 pb-10 mt-12">
                    <article>
                        <header class="border-b border-slate-200 pb-6">
                            <div class="grid grid-cols-2 gap-x-8 gap-y-2 max-w-lg text-sm text-slate-500">
                                <!-- 좌상: 작성자 -->
                                <div class="tip-wrapper relative inline-flex items-center gap-2 group/tip">
                                    <div class="tip-anchor inline-flex items-center gap-2 [anchor-name:--tip-author]"
                                         aria-label="작성자" aria-describedby="detail-tip-author">
                                        <svg aria-hidden="true" viewBox="0 0 24 24" class="h-4 w-4" fill="none"
                                             stroke="currentColor"
                                             stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="12" cy="8" r="3"/>
                                            <path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/>
                                        </svg>
                                        <span class="font-medium text-slate-700" th:text="${board.authorName}">홍길동</span>
                                    </div>
                                    <div id="detail-tip-author" role="tooltip"
                                         class="tip-tooltip pointer-events-none absolute z-10 overflow-hidden rounded-xl bg-slate-900/90 px-3 py-2 text-xs font-medium text-white opacity-0 invisible delay-150 [transition-property:opacity,visibility] duration-150 [transition-behavior:allow-discrete] [position-anchor:--tip-author] [bottom:calc(anchor(top)-8px)] [left:anchor(start)] whitespace-nowrap text-left leading-5 text-ellipsis group-hover/tip:delay-0 group-hover/tip:opacity-100 group-hover/tip:visible group-focus-visible/tip:delay-0 group-focus-visible/tip:opacity-100 group-focus-visible/tip:visible">
                                        작성자
                                    </div>
                                </div>

                                <!-- 우상: 작성시간 -->
                                <div class="tip-wrapper relative inline-flex items-center gap-2 group/tip">
                                    <div class="tip-anchor inline-flex items-center gap-2 [anchor-name:--tip-created]"
                                         aria-label="작성시간" aria-describedby="detail-tip-created">
                                        <svg aria-hidden="true" viewBox="0 0 24 24" class="h-4 w-4" fill="none"
                                             stroke="currentColor"
                                             stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="12" cy="12" r="10"/>
                                            <polyline points="12 6 12 12 16 14"/>
                                        </svg>
                                        <time th:datetime="${board.createdAt}"
                                              th:text="${#temporals.format(board.createdAt, 'yyyy.MM.dd HH:mm')}">2024.01.15
                                            14:30
                                        </time>
                                    </div>
                                    <div id="detail-tip-created" role="tooltip"
                                         class="tip-tooltip pointer-events-none absolute z-10 overflow-hidden rounded-xl bg-slate-900/90 px-3 py-2 text-xs font-medium text-white opacity-0 invisible delay-150 [transition-property:opacity,visibility] duration-150 [transition-behavior:allow-discrete] [position-anchor:--tip-created] [bottom:calc(anchor(top)-8px)] [left:anchor(start)] whitespace-nowrap text-left leading-5 text-ellipsis group-hover/tip:delay-0 group-hover/tip:opacity-100 group-hover/tip:visible group-focus-visible/tip:delay-0 group-focus-visible/tip:opacity-100 group-focus-visible/tip:visible">
                                        작성시간
                                    </div>
                                </div>

                                <!-- 좌하: 조회수 -->
                                <div class="tip-wrapper relative inline-flex items-center gap-2 group/tip">
                                    <div class="tip-anchor inline-flex items-center gap-2 [anchor-name:--tip-views]"
                                         aria-label="조회수" aria-describedby="detail-tip-views">
                                        <svg aria-hidden="true" viewBox="0 0 24 24" class="h-4 w-4" fill="none"
                                             stroke="currentColor"
                                             stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                            <circle cx="12" cy="12" r="3"/>
                                        </svg>
                                        <span class="text-sm text-slate-500" th:text="${board.viewCount}">999</span>
                                    </div>
                                    <div id="detail-tip-views" role="tooltip"
                                         class="tip-tooltip pointer-events-none absolute z-10 overflow-hidden rounded-xl bg-slate-900/90 px-3 py-2 text-xs font-medium text-white opacity-0 invisible delay-150 [transition-property:opacity,visibility] duration-150 [transition-behavior:allow-discrete] [position-anchor:--tip-views] [bottom:calc(anchor(top)-8px)] [left:anchor(start)] whitespace-nowrap text-left leading-5 text-ellipsis group-hover/tip:delay-0 group-hover/tip:opacity-100 group-hover/tip:visible group-focus-visible/tip:delay-0 group-focus-visible/tip:opacity-100 group-focus-visible/tip:visible">
                                        조회수
                                    </div>
                                </div>

                                <!-- 우하: 수정시간 (조건부) -->
                                <div th:if="${board.updatedAt != board.createdAt}"
                                     class="tip-wrapper relative inline-flex items-center gap-2 text-amber-600 group/tip">
                                    <div class="tip-anchor inline-flex items-center gap-2 [anchor-name:--tip-updated]"
                                         aria-label="수정시간" aria-describedby="detail-tip-updated">
                                        <svg aria-hidden="true" viewBox="0 0 24 24" class="h-4 w-4" fill="none"
                                             stroke="currentColor"
                                             stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M12 20h9"/>
                                            <path d="M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"/>
                                        </svg>
                                        <time th:datetime="${board.updatedAt}"
                                              th:text="${#temporals.format(board.updatedAt, 'yyyy.MM.dd HH:mm')}">2024.01.15
                                            15:30
                                        </time>
                                    </div>
                                    <div id="detail-tip-updated" role="tooltip"
                                         class="tip-tooltip pointer-events-none absolute z-10 overflow-hidden rounded-xl bg-slate-900/90 px-3 py-2 text-xs font-medium text-white opacity-0 invisible delay-150 [transition-property:opacity,visibility] duration-150 [transition-behavior:allow-discrete] [position-anchor:--tip-updated] [bottom:calc(anchor(top)-8px)] [left:anchor(start)] whitespace-nowrap text-left leading-5 text-ellipsis group-hover/tip:delay-0 group-hover/tip:opacity-100 group-hover/tip:visible group-focus-visible/tip:delay-0 group-focus-visible/tip:opacity-100 group-focus-visible/tip:visible">
                                        수정시간
                                    </div>
                                </div>

                                <!-- 수정시간이 없을 경우 빈 공간 -->
                                <div th:if="${board.updatedAt == board.createdAt}"></div>
                            </div>
                        </header>

                        <div class="mt-8 prose prose-slate max-w-none">
                            <p class="whitespace-pre-wrap text-base leading-relaxed text-slate-700" th:text="${board.content}">
                                게시글 내용이 여기에 표시됩니다.
                                여러 줄의 내용이 들어갈 수 있습니다.
                                긴 텍스트도 깔끔하게 표시됩니다.
                            </p>
                        </div>

                        <footer class="mt-10 flex items-center justify-end gap-4 border-t border-slate-200 pt-6">
                            <div sec:authorize="hasPermission(#vars.board.id, 'BOARD', 'WRITE')"
                                 class="flex items-center gap-3"
                                 data-testid="manage-menu">
                                <a th:href="@{/boards/{id}/edit(id=${board.id})}" href="./edit.html"
                                   class="inline-flex items-center justify-center gap-2 rounded-full bg-slate-900 px-5 py-2 text-sm font-semibold text-white transition hover:bg-slate-700">
                                    수정하기
                                </a>
                            </div>
                        </footer>
                    </article>
                </section>
            </main>
</body>
</html>
