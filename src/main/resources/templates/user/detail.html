<!DOCTYPE html>
<html lang="ko" th:replace="~{fragments/base :: layout(title='마이페이지', content=~{::main}, contextMenu=~{})}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>마이페이지</title>
</head>

<main>
    <article class="contrast">
        <header>
            <hgroup>
                <h1 th:text="${!#strings.isEmpty(user.name)} ? ${user.name} : ${user.username}">사용자 이름</h1>
                <p th:text="${user.email}">email@example.com</p>
            </hgroup>
        </header>

        <section>
            <dl class="grid">
                <div>
                    <dt>사용자명</dt>
                    <dd th:text="${user.username}">testuser</dd>
                </div>
                <div>
                    <dt>역할</dt>
                    <dd th:text="${user.roles == null or #lists.isEmpty(user.roles)} ? '권한 없음' : ${#strings.listJoin(user.roles, ', ')}">USER</dd>
                </div>
                <div>
                    <dt>가입일</dt>
                    <dd th:text="${user.createdAt != null ? #temporals.format(user.createdAt, 'yyyy-MM-dd') : '알 수 없음'}">2024-01-01</dd>
                </div>
                <div>
                    <dt>최근 로그인</dt>
                    <dd th:text="${user.lastLogin != null ? #temporals.format(user.lastLogin, 'yyyy-MM-dd HH:mm') : '기록 없음'}">2024-01-02 12:00</dd>
                </div>
            </dl>
        </section>

        <footer class="grid">
            <a class="primary" th:href="@{/users/me/edit}" role="button">프로필 수정</a>
        </footer>
    </article>
</main>
</html>
